"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2010],{2010:function(n,e,t){t.r(e),t.d(e,{default:function(){return D}});var r=t(2322),i=t(2784),u=t(3980);var o=t(7896),c=(t(3463),function(n,e,t){return n=(n=n<=t?n:t)>=e?n:e}),a=function(){var n=!1,e=[],t=function t(){n=!0;var r=e.shift();if(r)return r(t);n=!1};return{clear:function(){n=!1,e=[]},enqueue:function(r){e.push(r),n||1!==e.length||t()}}},s=function(n){(0,i.useEffect)(n,[])},f=function(n){return++n%1e6},l=function(n){void 0===n&&(n={});var e=function(){var n=(0,i.useState)(0)[1];return(0,i.useCallback)((function(){return n(f)}),[])}(),t=(0,i.useRef)((0,o.Z)({},n));return[(0,i.useCallback)((function(){return t.current}),[]),(0,i.useCallback)((function(n){n&&(Object.assign(t.current,n),e())}),[])]},d=function(n,e){var t=function(){var n=(0,i.useRef)(!0);return n.current?(n.current=!1,!0):n.current}();(0,i.useEffect)((function(){if(!t)return n()}),e)},v=function(){},h={isFinished:!0,progress:0,sideEffect:v},m=function(n){var e=void 0===n?{}:n,t=e.animationDuration,r=void 0===t?200:t,u=e.incrementDuration,f=void 0===u?800:u,m=e.isAnimating,p=void 0!==m&&m,g=e.minimum,b=void 0===g?.08:g,x=l(h),C=x[0],E=x[1],y=(0,i.useRef)(null),k=(0,i.useRef)(null);s((function(){y.current=a(),k.current=function(){var n;return{cancel:function(){n&&window.cancelAnimationFrame(n)},schedule:function(e,t){var r;n=window.requestAnimationFrame((function i(u){u-(r=r||u)>t?e():n=window.requestAnimationFrame(i)}))}}}()}));var j=(0,i.useCallback)((function(){var n,e;null==(n=k.current)||n.cancel(),null==(e=y.current)||e.clear()}),[]),q=(0,i.useCallback)((function(n){var e,t,i;if(1===(n=c(n,b,1)))return j(),null==(t=y.current)||t.enqueue((function(e){E({progress:n,sideEffect:function(){var n;return null==(n=k.current)?void 0:n.schedule(e,r)}})})),void(null==(i=y.current)||i.enqueue((function(){E({isFinished:!0,sideEffect:j})})));null==(e=y.current)||e.enqueue((function(e){E({isFinished:!1,progress:n,sideEffect:function(){var n;return null==(n=k.current)?void 0:n.schedule(e,r)}})}))}),[r,j,b,y,E,k]),w=(0,i.useCallback)((function(){q(function(n){var e=0;return n>=0&&n<.2?e=.1:n>=.2&&n<.5?e=.04:n>=.5&&n<.8?e=.02:n>=.8&&n<.99&&(e=.005),c(n+e,0,.994)}(C().progress))}),[C,q]),F=(0,i.useCallback)((function(){!function n(){var e;w(),null==(e=y.current)||e.enqueue((function(e){var t;null==(t=k.current)||t.schedule((function(){n(),e()}),f)}))}()}),[f,y,k,w]),D=(0,i.useRef)(v),O=C().sideEffect;return(0,i.useEffect)((function(){D.current=w})),s((function(){return p&&F(),j})),d((function(){C().sideEffect()}),[C,O]),d((function(){p?E((0,o.Z)({},h,{sideEffect:F})):q(1)}),[p,q,E,F]),{animationDuration:r,isFinished:C().isFinished,progress:C().progress}},p=["children"],g=function(n){var e=n.children,t=function(n,e){if(null==n)return{};var t,r,i={},u=Object.keys(n);for(r=0;r<u.length;r++)t=u[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,p);return e(m(t))};var b=function(n){var e=n.children,t=n.isFinished,i=n.animationDuration;return(0,r.jsx)("div",{style:{opacity:t?0:1,pointerEvents:"none",transition:"opacity ".concat(i,"ms linear")},children:e})};b.propTypes={animationDuration:u.number.isRequired,children:u.node.isRequired,isFinished:u.bool.isRequired};var x=b,C=t(2228),E=t(5545);function y(){var n=(0,C.Z)(["\n  background-color: ",";\n  height: 0.25rem;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1031;\n"]);return y=function(){return n},n}var k=function(n){var e=n.animationDuration,t=n.context,i=n.progress;return(0,r.jsx)(j,{context:t,style:{marginLeft:"".concat(100*(-1+i),"%"),transition:"margin-left ".concat(e,"ms linear")}})};k.propTypes={animationDuration:u.number.isRequired,context:u.string,progress:u.number.isRequired};var j=E.ZP.div.withConfig({componentId:"sc-44176756-0"})(y(),(function(n){var e=n.context;return n.theme.COLOUR[e]})),q=k,w=t(4537),F=function(n){var e=n.context,t=n.isAnimating,u=n.instanceKey,o=n.router,c=(0,i.useState)(!1),a=c[0],s=c[1],f=(0,i.useState)(null),l=f[0],d=f[1],v=function(){s(!0),d((new Date).getTime())},h=function(){s(!1)};return(0,i.useEffect)((function(){o&&(o.events.on("routeChangeStart",v),o.events.on("routeChangeComplete",h),o.events.on("routeChangeError",h))}),[]),(0,r.jsx)(g,{isAnimating:a||t,children:function(n){var t=n.animationDuration,i=n.isFinished,u=n.progress;return(0,r.jsx)(x,{animationDuration:t,isFinished:i,children:(0,r.jsx)(q,{animationDuration:t,context:e,progress:u})})}},l||u)};F.propTypes={context:(0,u.oneOf)(Object.values(w.Z)),isAnimating:u.bool,instanceKey:u.string,router:u.object},F.defaultProps={context:"info",isAnimating:!1,instanceKey:null};var D=F},7896:function(n,e,t){function r(){return r=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r.apply(this,arguments)}t.d(e,{Z:function(){return r}})}}]);